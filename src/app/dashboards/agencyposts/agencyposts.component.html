<app-agencytopbar></app-agencytopbar>
<app-agencyssidebar></app-agencyssidebar>

<div class="announcement-container">
  <div class="announcement-card">
    <h2>New Announcement</h2>
    <form (ngSubmit)="submitPost()" #postForm="ngForm" enctype="multipart/form-data">
      <div class="form-grid">

        <div class="form-group">
          <label for="type">Post Type</label>
          <select id="type" name="type" [(ngModel)]="post.type" required>
            <option value="">Select</option>
            <option>Announcement</option>
            <option>Notice</option>
            <option>Offer</option>
            <option>Alert</option>
          </select>
        </div>

        <div class="form-group">
          <label for="title">Title</label>
          <input type="text" id="title" name="title" [(ngModel)]="post.title" required />
        </div>

        <div class="form-group full">
          <label for="message">Message</label>
          <textarea id="message" name="message" [(ngModel)]="post.message" rows="4" required></textarea>
        </div>

        <div class="form-group">
          <label for="audience">Audience</label>
          <select id="audience" name="audience" [(ngModel)]="post.audience" required>
            <option value="">Select</option>
            <option>All Agents</option>
            <option>Sales Team</option>
            <option>HR Team</option>
            <option>Marketing Team</option>
          </select>
        </div>

        <div class="form-group">
          <label for="priority">Priority</label>
          <select id="priority" name="priority" [(ngModel)]="post.priority" required>
            <option>Low</option>
            <option>Medium</option>
            <option>High</option>
            <option>Urgent</option>
          </select>
        </div>

        <div class="form-group">
          <label for="startDate">Start Date</label>
          <input type="date" id="startDate" name="startDate" [(ngModel)]="post.startDate" required />
        </div>

        <div class="form-group">
          <label for="endDate">End Date</label>
          <input type="date" id="endDate" name="endDate" [(ngModel)]="post.endDate" />
        </div>

        <div class="form-group full">
          <label for="attachment">Attachment</label>
          <input type="file" id="attachment" name="attachment" (change)="handleFile($event)" />
        </div>

        <div class="form-group">
          <label for="department">Department</label>
          <input type="text" id="department" name="department" [(ngModel)]="post.department" />
        </div>

        <div class="form-group">
          <label for="postedBy">Posted By</label>
          <input type="text" id="postedBy" name="postedBy" [(ngModel)]="post.postedBy" required />
        </div>
      </div>

      <div class="btn-container">
        <button type="submit" [disabled]="!postForm.form.valid">Submit Announcement</button>
      </div>
    </form>
  </div>
</div>
