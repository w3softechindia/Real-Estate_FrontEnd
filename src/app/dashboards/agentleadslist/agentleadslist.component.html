
<app-agenttopbar></app-agenttopbar>
<app-agentdashboard></app-agentdashboard>

<div class="main-layout">
    <div class="page-layout">
      <div class="container">
        <div class="header">

            <div class="form-group">
              <label for="property">Property</label>
              <select id="property" name="property" required>
                <option value="" disabled selected>Select Property</option>
                <option value="Villa">Villa</option>
                <option value="Apartment">Apartmnet</option>
                <option value="Independent">Independent</option>
              </select>
            </div>
  
            <div class="form-group">
              <label for="date">Lead Added</label>
              <select id="date" name="date">
                <option value="" disabled selected>Select Date Range</option>
                <option value="Today">Today</option>
                <option value="This Week">This Week</option>
                <option value="This Month">This Month</option>
                <option value="Last 3 Months">Last 3 Months</option>
              </select>
            </div>
            
  
            <div class="form-group">
              <label for="state">State</label>
              <select id="state" name="state" required>
                <option value="" disabled selected>Select State</option>
                <option value="Telangana">Telangana</option>
                <option value="Ap">Ap</option>
                <option value="Orissa">Orissa</option>
              </select>
            </div>
  
            <div class="form-group">
              <label for="city">City</label>
              <select id="city" name="city" required>
                <option value="" disabled selected>Select City</option>
                <option value="Hyderabad">Hyderabad</option>
                <option value="Vizag">Vizag</option>
                <option value="Nanakramguda">Nanakramguda</option>
              </select>
            </div>
  
            <div class="form-group">
              <button><i class="fa-solid fa-magnifying-glass"></i></button>
            </div>
  
           </div>
        <div class="table-view">
            <table>
              <thead>
                <tr>
                  <th>lead Name</th>
                  <th>Location</th>
                  <th>Budget</th>
                  <th>Property</th>
                  <th>PhoneNo</th>
                  <th>Source</th>
                  <th>Status</th>
                  <th>Action</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let lead of leads; let i=index">
                  <td>{{ lead.leadName }}</td>
                  <td>{{ lead.preferredLocation }}</td>
                  <td>{{ lead.estimatedBudget}}</td>
                  <td>{{ lead.interestedIn }}</td>
                  <td>{{ lead.phoneNumber }} </td>
                  <td>{{ lead.leadSource }}</td>
                  <td>{{ lead.leadStatus }}</td>
                  <td>              
                    <i class="fas fa-eye action-icon view-icon" (click)="openUpdateModal(lead)" title="View/Update"></i>
                    <i class="fas fa-trash-alt action-icon delete-icon" (click)="deleteLead(lead)" title="Delete"></i>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
</div>
</div>
</div>

<!-- Modal Structure -->
<div *ngIf="showModal" class="modal">
  <div class="modal-content">
    <h2>Edit Lead Details</h2>

    <!-- Bind data to form inputs using ngModel -->
    <label for="agentName">Lead Name:</label>
    <input id="agentName" [(ngModel)]="selectedLead.leadName" placeholder="Enter lead name">

    <label for="address">Location:</label>
    <input id="address" [(ngModel)]="selectedLead.preferredLocation" placeholder="Enter address">

    <label for="city">PhoneNumber:</label>
    <input id="city" [(ngModel)]="selectedLead.phoneNumber" placeholder="Enter city">

    <label for="state">Source:</label>
    <input id="state" [(ngModel)]="selectedLead.leadSource" placeholder="Enter state">

    <label for="pincode">Status:</label>
    <input id="pincode" [(ngModel)]="selectedLead.leadStatus" placeholder="Enter pincode">

    <div class="modal-actions">
      <!-- <button class="update-btn" (click)="updateLead()">Update</button> -->
      <button class="cancel-btn" (click)="closeModal()">Cancel</button>
    </div>
  </div>
</div>

